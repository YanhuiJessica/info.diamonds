import Bleed from 'nextra-theme-docs/bleed'

# **Diamonds**

### **EIP 2535: Diamonds, Multi-Facet Proxy**

## **Why use a diamond?**

1. You exceed the max size of a contract and you have related functionality that needs to access and use the same storage variables.
2. Diamonds can be large but still modular because they are compartmented with facets.
3. Multiple small contracts calling each other increases complexity. 
4. You need or want greater control over when and what functions exist.
5. Your development is incremental and you want your contracts to grow with your application.

## **What is a diamond?**

- A diamond is a smart contract, the address of the Diamond is used for outside software to interact with it.
- Internally a diamond uses a set of contracts called facets for its external functions.
- All state variable storage data is stored in a diamond, not in its facets.
- A facet is a contract whose external functions are added to a diamond to give the diamond functionality.
- The external functions of facets can directly read and write data stored in a diamond.
- A diamond is implemented as a fallback function it usesÂ `delegatecall`Â to route external function calls to facets.

<aside>
ðŸ’¡ *Diamond pattern divides functionality and storage into separate contracts.*

</aside>

## **Diamond Benefits**

- Diamonds overcome the maximum contract size limit of 24KB.
- Facets can be deployed once and reused by any number of diamonds.
- Optimized to save gas because state variables are shared between facets.
- Diamonds can be upgradeable or immutable.
- Diamonds make it possible to add/replace/remove functions w/o needing to redeploy.

